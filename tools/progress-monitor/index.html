<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Progress Monitor</title>
        <style>
            :root{ --critical-bg:#f5f7fa; --critical-surface:#ffffff; --critical-border:#d8dee6; --critical-text:#1f2630; }
            html,body{ background:var(--color-bg, var(--critical-bg)); color:var(--color-text, var(--critical-text)); }
            .app-header{ background:rgba(255,255,255,.85); border-bottom:1px solid var(--color-border, var(--critical-border)); height:var(--app-header-height,64px); }
            .app-header .branding .back-btn{ background:var(--color-accent,#4f8cff); color:#fff; }
        </style>
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>
    <!-- Prefetch main shell assets to speed up back navigation -->
    <link rel="prefetch" href="/index.html" as="document">
    <link rel="prefetch" href="/assets/css/main.css" as="style">
    <link rel="prefetch" href="/assets/js/main.js" as="script">
    <link rel="preload" href="/assets/fonts/inter/Inter-Regular.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="stylesheet" href="../../assets/css/main.css">
    <link rel="stylesheet" href="progress-monitor.css">
    <script src="../../assets/js/theme.js"></script>
    <script defer src="../../assets/js/shared/data-utils.js"></script>
    <script defer src="../../assets/js/shared/dom-utils.js"></script>
    <script defer src="../../assets/js/prefetch-back.js"></script>
    <script defer src="progress-monitor.js"></script>
</head>
<body>
    <header class="app-header">
        <div class="branding">
            <a href="../../index.html" class="back-btn back-btn-inline-reset">‚Üê Session Wizard</a>
        </div>
        <div class="header-actions">
            <button id="themeToggle" class="ghost-btn" aria-pressed="false" aria-label="Toggle theme">üåô</button>
        </div>
    </header>
    <div class="main-container">
    <div class="pm-page-header">
        <h1>Progress Monitor</h1>
		<p class="tool-description">Compare progress from session to session.</p>
        <div class="meta-row pm-meta-row">
            <label for="patientName" class="meta-label">Patient:</label>
            <input type="text" id="patientName" class="meta-inputbox" placeholder="Enter patient name..." />
            <label for="goalDate" class="meta-label">Date:</label>
            <input type="date" id="goalDate" class="meta-inputbox" />
        </div>
    </div>
    <div class="tool-container">
        <div class="pm-fields">
            <label class="form-label">Target</label>
            <textarea id="target" class="form-textarea" rows="2" placeholder="Describe the target..."></textarea>
            <label class="form-label">Training Phase</label>
            <textarea id="trainingPhase" class="form-textarea" rows="2" placeholder="Describe the training phase..."></textarea>
        </div>
        <div class="pm-summary-measure">
            <div class="pm-summary-label">Select the summary measure being tracked (must use the same from each session):</div>
            <div class="pm-radio-group">
                <label><input type="radio" name="summaryMeasure" value="Retention probe result from start of each session" checked> Retention probe result from start of each session</label>
                <label><input type="radio" name="summaryMeasure" value="Average of each session's practice trial results"> Average of each session's practice trial results</label>
                <label><input type="radio" name="summaryMeasure" value="Other"> Other: <input type="text" id="otherSummary" class="pm-other-input" placeholder="Describe other measure..." /></label>
            </div>
        </div>
        <div class="pm-table-section">
            <table id="pmTable" class="pm-table">
                <thead>
                    <tr id="pmDateRow">
                        <th></th>
                        <th class="pm-date-col">
                            <label class="sr-only" for="pmDate1">Date column 1</label>
                            <input id="pmDate1" type="date" class="pm-date-input" value="" />
                        </th>
                        <th class="pm-date-col">
                            <label class="sr-only" for="pmDate2">Date column 2</label>
                            <input id="pmDate2" type="date" class="pm-date-input" value="" />
                        </th>
                        <th class="pm-date-col">
                            <label class="sr-only" for="pmDate3">Date column 3</label>
                            <input id="pmDate3" type="date" class="pm-date-input" value="" />
                        </th>
                        <th class="pm-date-col">
                            <label class="sr-only" for="pmDate4">Date column 4</label>
                            <input id="pmDate4" type="date" class="pm-date-input" value="" />
                        </th>
                        <th><button id="addDateBtn" class="pm-add-date-btn" title="Add date column">+</button></th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="pm-editable-subheader" data-section="task"><td colspan="100%"><label class="sr-only" for="pmSubheaderTask">Task Step/Level</label><input id="pmSubheaderTask" type="text" class="pm-subheader-input" value="Task Step/Level" /></td></tr>
                    <tr class="pm-row" data-section="task">
                        <td class="pm-row-label"><label class="sr-only">Task Steps</label><textarea class="pm-table-input pm-label-input" placeholder="Task Steps..." aria-label="Task steps"></textarea></td>
                        <td><textarea class="pm-table-input" aria-label="PM cell"></textarea></td>
                        <td><textarea class="pm-table-input" aria-label="PM cell"></textarea></td>
                        <td><textarea class="pm-table-input" aria-label="PM cell"></textarea></td>
                        <td><textarea class="pm-table-input" aria-label="PM cell"></textarea></td>
                        <td><button class="pm-add-row-btn" data-section="task" title="Add row">+</button></td>
                    </tr>
                    <tr class="pm-editable-subheader" data-section="prompts"><td colspan="100%"><label class="sr-only" for="pmSubheaderPrompts">Prompts/Cues/Supports</label><input id="pmSubheaderPrompts" type="text" class="pm-subheader-input" value="Prompts/Cues/Supports" /></td></tr>
                    <tr class="pm-row" data-section="prompts">
                        <td class="pm-row-label"><label class="sr-only">Prompts/Supports</label><textarea class="pm-table-input pm-label-input" placeholder="Prompts/Supports..." aria-label="Prompts supports"></textarea></td>
                        <td><textarea class="pm-table-input" aria-label="PM cell"></textarea></td>
                        <td><textarea class="pm-table-input" aria-label="PM cell"></textarea></td>
                        <td><textarea class="pm-table-input" aria-label="PM cell"></textarea></td>
                        <td><textarea class="pm-table-input" aria-label="PM cell"></textarea></td>
                        <td><button class="pm-add-row-btn" data-section="prompts" title="Add row">+</button></td>
                    </tr>
                    <tr class="pm-editable-subheader" data-section="other"><td colspan="100%"><label class="sr-only" for="pmSubheaderOther">Other/Comments</label><input id="pmSubheaderOther" type="text" class="pm-subheader-input" value="Other/Comments" /></td></tr>
                    <tr class="pm-row" data-section="other">
                        <td class="pm-row-label"><label class="sr-only">Other</label><textarea class="pm-table-input pm-label-input" placeholder="Other..." aria-label="Other"></textarea></td>
                        <td><textarea class="pm-table-input" aria-label="PM cell"></textarea></td>
                        <td><textarea class="pm-table-input" aria-label="PM cell"></textarea></td>
                        <td><textarea class="pm-table-input" aria-label="PM cell"></textarea></td>
                        <td><textarea class="pm-table-input" aria-label="PM cell"></textarea></td>
                        <td><button class="pm-add-row-btn" data-section="other" title="Add row">+</button></td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="button-row">
            <button id="exportCsvBtn" class="secondary-btn">Export to CSV</button>
            <label class="sr-only" for="importCsvInput">Import CSV file</label>
            <input type="file" id="importCsvInput" accept=".csv" class="hidden">
            <button id="importCsvBtn" class="secondary-btn">Import from CSV</button>
            <button id="copyClipboardBtn" class="primary-btn">Copy to Clipboard</button>
            <button id="printPageBtn" class="secondary-btn">Printable Page</button>
        </div>
    </div>
    </div>
</body>
</html>
